import requests
import os

breaker = False
blocknumber = 0
while not breaker:
	response = requests.post("https://prod-blockbrowser.kringle.co.in/cgi-bin/blockdata", json={"blocknumber": blocknumber})
	if "Invalid block number" in response.text:
		breaker = True
	else:
		with open("blocks/{}".format(blocknumber), 'w') as file:
			file.write(response.text)
		print ("Block #{} wrote {} on file".format(blocknumber, len(response.text)))
		blocknumber += 1